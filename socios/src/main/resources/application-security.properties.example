# =====================================================
# CONFIGURACIÓN DE SEGURIDAD - MICROSERVICIO DE SOCIOS
# =====================================================
# Agregar estas propiedades a application.properties

# ============ SEGURIDAD - CORS ============

# Orígenes permitidos (separados por coma)
security.cors.allowed-origins=http://localhost:3000,http://localhost:4200,http://localhost:8080

# Métodos HTTP permitidos
security.cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS

# Headers permitidos
security.cors.allowed-headers=Authorization,Content-Type,X-Requested-With,Accept,Origin

# Permitir credenciales
security.cors.allow-credentials=true

# Tiempo de cache para preflight requests (en segundos)
security.cors.max-age=3600

# ============ SEGURIDAD - HEADERS HTTP ============

# Frame Options (DENY, SAMEORIGIN)
security.headers.frame-options=DENY

# HSTS - Max Age en segundos (1 año = 31536000)
security.headers.hsts.max-age=31536000
security.headers.hsts.include-subdomains=true

# Content Security Policy
security.headers.content-security-policy=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; frame-ancestors 'none'

# XSS Protection
security.headers.xss-protection=1; mode=block

# Content Type Options
security.headers.content-type-options=nosniff

# Referrer Policy
security.headers.referrer-policy=strict-origin-when-cross-origin

# Permissions Policy
security.headers.permissions-policy=camera=(), microphone=(), geolocation=()

# ============ LOGGING ============

# Nivel de logging para seguridad
logging.level.ec.fin.coacandes.socios.interceptor.SecurityInterceptor=WARN
logging.level.ec.fin.coacandes.socios.util.InputSanitizer=DEBUG

# Archivo de logs de seguridad
logging.file.name=logs/security.log
logging.file.max-size=10MB
logging.file.max-history=30

# ============ BASE DE DATOS ============

# URL de PostgreSQL
spring.datasource.url=jdbc:postgresql://localhost:5432/cooperativa_socios

# Usuario de la base de datos
spring.datasource.username=postgres

# Contraseña de la base de datos
spring.datasource.password=postgres

# ============ JPA/HIBERNATE ============

# Mostrar SQL en logs (solo desarrollo)
spring.jpa.show-sql=false

# Formatear SQL en logs
spring.jpa.properties.hibernate.format_sql=true

# Estrategia de DDL (validate, update, create, create-drop)
spring.jpa.hibernate.ddl-auto=update

# ============ SERVIDOR ============

# Puerto del servidor
server.port=8080

# Compresión de respuestas
server.compression.enabled=true

# Timeout de sesión en minutos
server.servlet.session.timeout=30m

# ============ ACTUATOR (Monitoreo) ============

# Exponer endpoints de salud
management.endpoints.web.exposure.include=health,info,metrics

# Detalles de salud (always, when-authorized, never)
management.endpoint.health.show-details=when-authorized

# ============ NOTAS IMPORTANTES ============
# 
# PRODUCCIÓN:
# 1. Cambiar security.cors.allowed-origins a dominios reales
# 2. Deshabilitar spring.jpa.show-sql
# 3. Configurar SSL/TLS con certificados válidos
# 4. Implementar autenticación JWT/OAuth2
# 5. Configurar base de datos con SSL
# 6. Ajustar timeouts según necesidades
# 7. Configurar backup automático de logs
# 8. Implementar monitoreo con herramientas externas
#
# =====================================================
